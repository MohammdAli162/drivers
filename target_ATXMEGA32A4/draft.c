int16_t uart_write( uint8_t ring_buff , uint8_t* data_ptr , uint16_t len  ){



switch ( ring_buff ) {
	
	#ifdef USARTC0_RING 
	case USARTC0_RING :
//***********************************************************************************************************************************	
//***********************************************************************************************************************************

	for ( uint16_t i = 0 ; i <= len -1 ; i++ )
	{
		//write
		USARTC0_tx_buff[ USARTC0_tx_head++] = *(data_ptr+i) ; 

		//check for overflow 
		
		if ( USARTC0_tx_head >= USARTC0_TXBUFF_SIZE )
		{
			USARTC0_tx_head = 0 ; 
		 
		}
	}
		
	if ( USARTC0_tx_head == USARTC0_tx_tail )
	{
		
		USARTC0_tx_state = BUFF_FULL ; 
		
	}
	
	if ( USARTC0_tx_state == BUFF_EMPTY )
	{
		USARTC0_DATA = USARTC0_tx_buff[USARTC0_tx_tail++] ;
		USARTC0_tx_state = BUFF_LHALF_FULL;
		

		
	}	
//***********************************************************************************************************************************
//***********************************************************************************************************************************	
	break;
	#endif 
	
	#ifdef USARTC1_RING 
	case USARTC1_RING :
	
//***********************************************************************************************************************************	
//***********************************************************************************************************************************	
	for ( uint16_t i = 0 ; i <= len -1 ; i++ )
	{
		//write
		USARTC1_tx_buff[ USARTC1_tx_head++] = *(data_ptr+i) ; 

		//check for overflow 
		
		if ( USARTC1_tx_head >= USARTC1_TXBUFF_SIZE )
		{
			USARTC1_tx_head = 0 ; 
		 
		}
	}
		
	if ( USARTC1_tx_head == USARTC1_tx_tail )
	{
		
		USARTC1_tx_state = BUFF_FULL ; 
		
	}
	
		if ( USARTC1_tx_state == BUFF_EMPTY )
	{
		USARTC1_DATA = USARTC1_tx_buff[USARTC1_tx_tail++] ;
		
	}	
//***********************************************************************************************************************************
//***********************************************************************************************************************************
	
	break;
	#endif 
	
	#ifdef USARTD0_RING 
	case USARTD0_RING :
	
//***********************************************************************************************************************************	
//***********************************************************************************************************************************	
	for ( uint16_t i = 0 ; i <= len -1 ; i++ )
	{
		//write
		USARTD0_tx_buff[ USARTD0_tx_head++] = *(data_ptr+i) ; 

		//check for overflow 
		
		if ( USARTD0_tx_head >= USARTD0_TXBUFF_SIZE )
		{
			USARTD0_tx_head = 0 ; 
		 
		}
	}
		
	if ( USARTD0_tx_head == USARTD0_tx_tail )
	{
		
		USARTD0_tx_state = BUFF_FULL ; 
		
	}
	
		if ( USARTD0_tx_state == BUFF_EMPTY )
	{
		USARTD0_DATA = USARTD0_tx_buff[USARTD0_tx_tail++] ;
		
	}	
//***********************************************************************************************************************************
//***********************************************************************************************************************************
	break;
	#endif 
	
	#ifdef USARTD1_RING 
	case USARTD1_RING :
	
//***********************************************************************************************************************************	
//***********************************************************************************************************************************	
	for ( uint16_t i = 0 ; i <= len -1 ; i++ )
	{
		//write
		USARTD1_tx_buff[ USARTD1_tx_head++] = *(data_ptr+i) ; 

		//check for overflow 
		
		if ( USARTD1_tx_head >= USARTD1_TXBUFF_SIZE )
		{
			USARTD1_tx_head = 0 ; 
		 
		}
	}
		
	if ( USARTD1_tx_head == USARTD1_tx_tail )
	{
		
		USARTD1_tx_state = BUFF_FULL ; 
		
	}
	
	if ( USARTD1_tx_state == BUFF_EMPTY )
	{
		USARTD1_DATA = USARTD1_tx_buff[USARTD1_tx_tail++] ;
		
	}	
//***********************************************************************************************************************************
//***********************************************************************************************************************************
	
	break;
	#endif 		
	
	#ifdef USARTE0_RING 
	case USARTE0_RING :
	
//***********************************************************************************************************************************	
//***********************************************************************************************************************************	
	for ( uint16_t i = 0 ; i <= len -1 ; i++ )
	{
		//write
		USARTE0_tx_buff[ USARTE0_tx_head++] = *(data_ptr+i) ; 

		//check for overflow 
		
		if ( USARTE0_tx_head >= USARTE0_TXBUFF_SIZE )
		{
			USARTE0_tx_head = 0 ; 
		 
		}
	}
		
	if ( USARTE0_tx_head == USARTE0_tx_tail )
	{
		
		USARTE0_tx_state = BUFF_FULL ; 
		
	}
	
	if ( USARTE0_tx_state == BUFF_EMPTY )
	{
		USARTE0_DATA = USARTE0_tx_buff[USARTE0_tx_tail++] ;
		
	}	
//***********************************************************************************************************************************
//***********************************************************************************************************************************
	
	break;
	#endif 
	
	default:
	
	return -2 ;    // no ring buffer is active or input doesn't match an active ring buffer . 
	
}
	
	

 	
	
	return 1 ; 
	
	
} 






:100000000C94BC000C94D9000C94D9000C94D90029 :100010000C94D9000C94D9000C94D9000C94D900FC :100020000C94D9000C94D9000C94D9000C94D                                                                                                                                C94D900BC :100060000C94D9000C9480020C94D9000C94CD020D :100070000C94D9000C94D9000C94D9000C94D9009C :100080000C94D9000C94D9000C94D                                                                                                                                C94D9000C94D9005C :1000C0000C94D9000C94D9000C94D9000C94D9004C :1000D0000C94D9000C94D9000C94D9000C94D9003C :1000E0000C94D9000C94D                                                                                                                                C94D9000C94D9000C94D900FB :100120000C94D9000C94D9000C94D9000C94D900EB :100130000C94D9000C94D9000C94D9000C94D900DB :100140000C94D                                                                                                                                C94D9000C94D90011241FBECFEFCDBF31 :10018000DFE2DEBF10E2A0E0B0E2E0E7F8E002C0AC :1001900005900D92A233B107D9F722E2A2E3B0E2B3 :1001A                                                                                                                                001D000803B28E0920759F41092560680E4809301 :1001E00042061092570680E8809341060895803AAF :1001F00029E0920749F41092720684E0809362062                                                                                                                                206A4 :1002300084E0809382061092930688E08093810682 :100240000895803A28E0920771F41092520684E0F3 :10025000809342061092530688E080934                                                                                                                                1060895803A17 :1002900029E0920771F41092720684E0809362065E :1002A0001092730688E0809361061092710682E0D6 :1002B00011C0803B29E092078                                                                                                                                09382061092930688E032 :1002F000809381061092910682E080938106089592 :10030000F901868397834583611102C088E101C0AA :100310008CE184830                                                                                                                                4830895FA018683178280EC85838B :10035000611102C088E001C08CE084830895FC0133 :10036000148208956295607F462B880F880F842B36 :10037000F                                                                                                                                00080810895982FFB018181882311F090832B :1003B00081E00895FC012181222319F0808190E0E1 :1003C00008958FEF9FEF0895EF92FF920F931F9381 :1                                                                                                                                F :100400000F931F93CF93DF93CDB7DEB72B97CDBF5D :10041000DEBFDC01CB01F22E680150E0BE016F5F50 :100420007F4F0E94F60310E0E1E0F0E0EC0FF                                                                                                                                F91FF9003 :10046000DF90CF900895CF92DF92EF92FF920F939B :100470001F93CF93DF937C016A018C01EB012197DD :10048000C8018E199F09C817D9073                                                                                                                                EBF82E3E0E0F0E28A :1004C000DE01119601900D928A95E1F780EA9AE09B :1004D0000E94DB00E0EAFAE081E0868383EA87831A :1004E00083E0858388E18                                                                                                                                F938091322090913320029725 :1005200089F180913420909135209C012F5F3F4FBD :1005300020933420309335202091A008FC01E25C08 :10054000FF4D2                                                                                                                                9F482E090E002C081E090E080933220A4 :1005800090933320FF91EF919F918F913F912F9105 :100590000F900FBE0F901F9018951F920F920FB6DD :1005A                                                                                                                                005D00020F010923C2010923D2020913C20309140 :1005E0003D2080913A2090913B202817390729F42B :1005F000109238201092392006C081E090E080935                                                                                                                                0509F06B :1006600028F4809336209093372004C010923620CF :1006700010923720409136205091372080913420BD :10068000909135204817590719F410                                                                                                                                913C2030913D20C1 :1006C00080913A2090913B20F901E81BF90BCF0172 :1006D0001E161F060CF0939584179507A0F1DB01F9 :1006E0004150510980913A                                                                                                                                923A2010923B20E3CF2817DD :10072000390711F482E001C081E080933820C111C3 :100730000DC0F901E25CFE4D80818093A00806C0E7 :100740008EEF9F                                                                                                                                0082FFFCCF88ED84BF1092410084BFFE :1007800011E010934000109256001093600080EA30 :1007900098E00E94DB0020EA38E043E050E060E0AF :1007A0                                                                                                                                07D0001D0389839A830196C9F341E050E0BE016D :1007E0006F5F7F4F81E00E945203F0CF4532510589 :1007F00020F4423010F00C940104FB011082CB0174                                                                                                                                517D :10083000B9F7A05DAA3308F0A95DA193009779F7F5 :10084000B111B1931192CB010C942604DC01FC018F :10085000672F71917723E1F7329704C07C                                                                                                                                000C94D9000C94D9000C94D90029 :100010000C94D9000C94D9000C94D9000C94D900FC :100020000C94D9000C94D9000C94D9000C94D900EC :100030000C                                                                                                                                000C94D9000C9480020C94D9000C94CD020D :100070000C94D9000C94D9000C94D9000C94D9009C :100080000C94D9000C94D9000C94D9000C94D9008C :10                                                                                                                                 :1000C0000C94D9000C94D9000C94D9000C94D9004C :1000D0000C94D9000C94D9000C94D9000C94D9003C :1000E0000C94D9000C94D9000C94D9000C94D9                                                                                                                                94D900FB :100120000C94D9000C94D9000C94D9000C94D900EB :100130000C94D9000C94D9000C94D9000C94D900DB :100140000C94D9000C94D9000C94D9                                                                                                                                241FBECFEFCDBF31 :10018000DFE2DEBF10E2A0E0B0E2E0E7F8E002C0AC :1001900005900D92A233B107D9F722E2A2E3B0E2B3 :1001A00001C01D92AE33B2                                                                                                                                0759F41092560680E4809301 :1001E00042061092570680E8809341060895803AAF :1001F00029E0920749F41092720684E08093620627 :10020000109273                                                                                                                                E0809382061092930688E08093810682 :100240000895803A28E0920771F41092520684E0F3 :10025000809342061092530688E0809341061092E4 :100260                                                                                                                                02900029E0920771F41092720684E0809362065E :1002A0001092730688E0809361061092710682E0D6 :1002B00011C0803B29E0920781F41092760680E419                                                                                                                                E032 :1002F000809381061092910682E080938106089592 :10030000F901868397834583611102C088E101C0AA :100310008CE184830895F9018683978340                                                                                                                                8280EC85838B :10035000611102C088E001C08CE084830895FC0133 :10036000148208956295607F462B880F880F842B36 :10037000F90183830895FB0180                                                                                                                                018181882311F090832B :1003B00081E00895FC012181222319F0808190E0E1 :1003C00008958FEF9FEF0895EF92FF920F931F9381 :1003D000CF938C017B                                                                                                                                11D8081882329F0B6010E94BB01E4 :100440001F5FF2CFFF2021F0B6018F2D0E94BB016C :100450002B96CDBFDEBFDF91CF911F910F91FF9003 :10046000D                                                                                                                                00081918F010E94BB01F3CFDF91CF911F911A :1004A0000F91FF90EF90DF90CF900895CF93DF935F :1004B000CDB7DEB7E297CDBFDEBF82E3E0E0F0E28A :1                                                                                                                                7 :1004F0000E94E401E296CDBFDEBFDF91CF91089567 :100500001F920F920FB60F9211242F933F938F9348 :100510009F93EF93FF9380913220909133200                                                                                                                                F3F91057D :1005500029F020F010923420109235202091342080 :100560003091352080913620909137202817390717 :1005700019F482E090E002C081E09                                                                                                                                F939F93EF93FF9379 :1005B00080913C2090913D20019680933C20909327 :1005C0003D2080913C2090913D208F3F910529F066 :1005D00020F010923C201                                                                                                                                9208091382090913920892B7F :1006100049F0E0913C20F0913D20E25CFE4D80816C :100620008093A008FF91EF919F918F913F912F911F :100630000F900                                                                                                                                8F4809336209093372004C010923620CF :1006700010923720409136205091372080913420BD :10068000909135204817590719F41092322003C071 :10069                                                                                                                                006C00080913A2090913B20F901E81BF90BCF0172 :1006D0001E161F060CF0939584179507A0F1DB01F9 :1006E0004150510980913A2090913B20FD01E61B3                                                                                                                                817DD :10072000390711F482E001C081E080933820C111C3 :100730000DC0F901E25CFE4D80818093A00806C0E7 :100740008EEF9FEF05C08FEF9FEF02C08                                                                                                                                092410084BFFE :1007800011E010934000109256001093600080EA30 :1007900098E00E94DB0020EA38E043E050E060E0AF :1007A00087E194EA0E9480011                                                                                                                                196C9F341E050E0BE016D :1007E0006F5F7F4F81E00E945203F0CF4532510589 :1007F00020F4423010F00C940104FB011082CB0174 :100800000895BB274                                                                                                                                05DAA3308F0A95DA193009779F7F5 :10084000B111B1931192CB010C942604DC01FC018F :10085000672F71917723E1F7329704C07C916D93F4 :100860007                                                                                                                                0002D2D2D2D2D2D2D2D2D2D2D2D2D2D2D2D88 :0208A0000A004C :00000001FFD2D2D2D2D2D2D2D2D2D2D2D2D98 :100890002D2D2D2D2D2D2D2D2D2D




















